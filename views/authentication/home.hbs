{{#extend "lib/loggedout"}}

{{#content "styles" mode="append"}}
	<link rel="stylesheet" href="/styles/homepage/index.css" />
{{/content}}

{{#content "scripts" mode="append"}}
	<script src="/scripts/login.js" type="text/javascript" defer></script>
	<script src="/scripts/sc-blog.js" type="text/javascript" defer></script>
	<script type="text/javascript" src="/vendor/mailchimp.js" data-dojo-config="usePlainJson: true, isDebug: false" defer></script>
{{/content}}

{{#content "page"}}

	<!-- GLOBAL_ANNOUNCEMENT -->
	<div class="container container-content">
		{{#hasConfig "GLOBAL_ANNOUNCEMENT"}}
			<div class="notification alert alert-info">
				<div class="notification-content">
					{{{getConfig "GLOBAL_ANNOUNCEMENT"}}}
				</div>
			</div>
		{{/hasConfig}}
	</div>

	<!-- GHOST (will be replaced by js) -->
	<div class="sc-blog">
		<div class="content">
			<div class="container container-content content-width-max">
					<h1 class="section-title primary" style="color: var(--color-primary);">
						{{{$t "home.headline.welcomeToHPISchoolCloud"}}}
					</h1>
			</div>
			<div class="text-center mt-3 mb-3" style="min-height: 70vh;">
				<i class="fa fa-spinner fa-spin load-icon spinner" aria-hidden="true"
					style="font-size: 25px; postion: absolute; top: 20%;"></i>
				<div class="placeholder" style="display: none;">
					{{$t "home.text.errorWhileLoadingHomepage"}} <br>
					<button type="button" class="btn btn-primary mt-1">{{$t "home.button.tryAgain"}}</button>
				</div>
			</div>
		</div>
	</div>

	<!-- BLOG -->
	{{#embed "authentication/section" style="accent"}}
		{{#content "body"}}
			<h2 class="h3 section-title center">{{{$t "home.headline.HPISchoolCloudBlog"}}}</h2>
				<div class="blog-cards">
					{{#each blogFeed}}
						{{> "authentication/blog-card" article=this}}
					{{else}}
						<p>{{$t "home.text.blogIsDeactivated"}}</p>
					{{/each}}
				</div>
			<a href="https://blog.schul-cloud.org" target="scblog" class="blog-link">{{$t "home.link.moreArticles"}}</a>
		{{/content}}
	{{/embed}}

	{{/content}}
{{/extend}}
